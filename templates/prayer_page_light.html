<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>{{ prayer_title }} • Light</title>
	<script src="https://cdn.tailwindcss.com"></script>
	<style>
		@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap');
		body { font-family: 'Inter', sans-serif; overflow-x: hidden; }
		.bg-prayer-light {
			background:
				radial-gradient(1200px 600px at 10% -10%, rgba(255, 210, 170, 0.35), transparent),
				radial-gradient(1000px 500px at 110% 10%, rgba(255, 190, 230, 0.30), transparent),
				radial-gradient(800px 400px at 50% 120%, rgba(180, 230, 255, 0.28), transparent),
				linear-gradient(180deg, #ffffff 0%, #f8fbff 55%, #f1f5fb 100%);
		}
		.pattern { opacity: .2; }
		.card-surface { background: rgba(255,255,255,0.92); border: 1px solid rgba(15,23,42,.08); box-shadow: 0 20px 40px rgba(2,6,23,.06); backdrop-filter: blur(8px); }
		.back-btn {
			background: linear-gradient(135deg,#0ea5e9,#2563eb);
			color: #fff; border-radius: .875rem; padding: .6rem 1rem; font-weight: 700; letter-spacing:.02em;
			box-shadow: 0 10px 24px rgba(14,165,233,.25);
			transition: transform .22s ease, box-shadow .22s ease, filter .22s ease; text-decoration:none; display:inline-flex; align-items:center; justify-content:center;
		}
		.back-btn:hover { transform: translateY(-2px); filter: brightness(1.05); box-shadow: 0 16px 34px rgba(14,165,233,.35); }
		pre { white-space: pre-wrap; word-wrap: break-word; word-break: normal; line-height: 1.8; text-align: center; color:#0f172a; }
		.title-gradient { background: linear-gradient(90deg,#ef4444 0%, #f59e0b 50%, #06b6d4 100%); -webkit-background-clip:text; background-clip:text; color: transparent; }
	</style>
</head>
<body class="relative min-h-screen bg-prayer-light text-slate-900">
	<svg class="pointer-events-none absolute inset-0 w-full h-full pattern" aria-hidden="true">
		<defs>
			<pattern id="grid" width="40" height="40" patternUnits="userSpaceOnUse">
				<path d="M 40 0 L 0 0 0 40" fill="none" stroke="rgba(2,6,23,0.06)" stroke-width="1"/>
			</pattern>
		</defs>
		<rect width="100%" height="100%" fill="url(#grid)"/>
	</svg>

	<div class="relative z-10">
		<!-- Sticky header with actions -->
		<div class="sticky top-0 bg-gradient-to-b from-white/70 to-transparent backdrop-blur-xl z-20">
			<div class="mx-auto max-w-5xl px-4 sm:px-6 py-4">
				<div class="flex items-center justify-between rounded-2xl card-surface px-3 py-2">
					<a href="{{ url_for('home_light') }}" class="back-btn text-xs sm:text-sm">← Back</a>
					<div class="toolbar flex items-center gap-2 overflow-x-auto no-scrollbar">
						<button id="decrease" class="back-btn text-xs" title="Smaller text">A-</button>
						<button id="increase" class="back-btn text-xs" title="Larger text">A+</button>
						<button id="copy" class="back-btn text-xs" title="Copy">Copy</button>
						<a href="{{ url_for('prayer_page', prayer_name=prayer_slug) }}" class="back-btn text-xs" title="Switch to dark">Dark</a>
					</div>
				</div>
			</div>
		</div>

		<!-- Main -->
		<div class="mx-auto max-w-5xl px-3 sm:px-6 py-8 sm:py-12">
			<div class="rounded-3xl card-surface shadow-2xl">
				<div class="px-6 sm:px-10 py-8 sm:py-12 text-center">
					<h1 class="text-3xl sm:text-4xl font-extrabold title-gradient tracking-tight">{{ prayer_title }}</h1>
					<div class="mt-6 sm:mt-8 bg-white p-5 sm:p-8 rounded-2xl border border-slate-200 text-slate-800 leading-relaxed text-center shadow-inner">
						<pre id="content" class="w-full text-sm sm:text-base md:text-lg max-w-prose mx-auto">{{ prayer_text }}</pre>
					</div>
				</div>
			</div>
			<p class="mt-6 text-center text-xs text-slate-500">Peace be upon all beings.</p>
		</div>
	</div>

	<script>
		const pre = document.getElementById('content');
		const copyBtn = document.getElementById('copy');
		const inc = document.getElementById('increase');
		const dec = document.getElementById('decrease');
		function getSize() { const s = window.getComputedStyle(pre); return parseFloat(s.fontSize); }
		function setSize(px) { pre.style.fontSize = Math.max(12, Math.min(28, px)) + 'px'; }
		inc?.addEventListener('click', () => setSize(getSize() + 2));
		dec?.addEventListener('click', () => setSize(getSize() - 2));
		copyBtn?.addEventListener('click', async () => { try { await navigator.clipboard.writeText(pre.textContent || ''); copyBtn.textContent = 'Copied!'; setTimeout(()=>copyBtn.textContent='Copy',1200);} catch {} });
	</script>
</body>
</html>
